const { GenericControllers } = require("kainda");

async function create%%$MODEL_NAME_UPPERCASE$%%(req, res) {
    let transaction = await mongoose.startSession();
    try {
        transaction.startTransaction();
        const %%$MODEL_NAME_LOWERCASE$%% = await Models.%%$MODEL_NAME_UPPERCASE$%%.Controller.__create%%$MODEL_NAME_UPPERCASE$%%(req.body, transaction);
        await transaction.commitTransaction();
        return res.status(201).json(%%$MODEL_NAME_LOWERCASE$%%.toJSON());
    } catch (error) {
        if(transaction) {
            await transaction.abortTransaction();
        }
        ExceptionHandler(error, res);
    }
}

module.exports = {
    create%%$MODEL_NAME_UPPERCASE$%%,
}