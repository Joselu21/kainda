const { checkObjectHas, missingFieldsResponse } = require("kainda");

async function checkRequiredKeys(req, res, next) {
    if(Models.%%$MODEL_NAME_UPPERCASE$%%.create_required_keys.length === 0) {
        return next();
    }
    let arrayOfKeys = [
        Models.%%$MODEL_NAME_UPPERCASE$%%.create_required_keys
    ];
    let response = missingFieldsResponse(arrayOfKeys, req.body);
    if(Object.keys(response).length > 0){
        return res.status(400).json(response);
    }
    next();
}

const %%$MODEL_NAME_UPPERCASE$%%Middlewares = {
    checkRequiredKeys
};

module.exports = %%$MODEL_NAME_UPPERCASE$%%Middlewares;